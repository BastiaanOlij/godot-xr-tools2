[gd_scene format=3 uid="uid://7lt82mv6lmxo"]

[ext_resource type="PackedScene" uid="uid://xrt20000007" path="res://addons/godot-xr-tools2/staging/base_stages/xrt2_stage_base.tscn" id="1_spd8v"]
[ext_resource type="Script" uid="uid://cftpwaa62ws1q" path="res://stages/main_stage/main_stage.gd" id="2_4i4c4"]
[ext_resource type="PackedScene" uid="uid://dm2d7si17m8vd" path="res://stages/main_stage/world.tscn" id="2_m5inh"]
[ext_resource type="PackedScene" uid="uid://xrt2qimm3dy" path="res://addons/godot-xr-tools2/prefabs/xrt2_character_body_3d.tscn" id="3_3ltgk"]
[ext_resource type="Shader" uid="uid://xrt2oqik7ik" path="res://addons/godot-xr-tools2/shaders/shaded_no_alpha.gdshader" id="3_6d2rb"]
[ext_resource type="Script" uid="uid://xrt2ebknph2" path="res://addons/godot-xr-tools2/player/movement_providers/xrt2_direct_movement.gd" id="3_7f0s7"]
[ext_resource type="Script" uid="uid://xrt23qrb4js" path="res://addons/godot-xr-tools2/player/interaction_functions/xrt2_pickup.gd" id="4_l0n08"]
[ext_resource type="Script" uid="uid://xrt2eecske1" path="res://addons/godot-xr-tools2/hands/xrt2_hand_attachment.gd" id="5_4i4c4"]
[ext_resource type="PackedScene" uid="uid://xrt2ef8ojbk" path="res://addons/godot-xr-tools2/debug/xrt2_log.tscn" id="11_4i4c4"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_ie47k"]

[sub_resource type="Sky" id="Sky_yknig"]
sky_material = SubResource("ProceduralSkyMaterial_ie47k")

[sub_resource type="Environment" id="Environment_8sh2w"]
background_mode = 2
sky = SubResource("Sky_yknig")
tonemap_mode = 2

[sub_resource type="ShaderMaterial" id="ShaderMaterial_3ltgk"]
render_priority = 0
shader = ExtResource("3_6d2rb")
shader_parameter/albedo = Color(0.910569, 0.585299, 0.39159, 1)
shader_parameter/metallic = 0.0
shader_parameter/roughness = 1.0
shader_parameter/specular = 0.5

[sub_resource type="SphereMesh" id="SphereMesh_4i4c4"]
radius = 0.1
height = 0.25

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_4i4c4"]
albedo_color = Color(0.11858138, 0.11858138, 0.11858138, 1)

[sub_resource type="CapsuleMesh" id="CapsuleMesh_wfvj4"]
radius = 0.05
height = 0.15
radial_segments = 32

[node name="MainStage" unique_id=1924971845 instance=ExtResource("1_spd8v")]
script = ExtResource("2_4i4c4")

[node name="WorldEnvironment" parent="." index="0" unique_id=700307530]
environment = SubResource("Environment_8sh2w")

[node name="SunLight3D" parent="." index="1" unique_id=1021325194]
shadow_enabled = true
shadow_bias = 0.01
shadow_transmittance_bias = 0.005
directional_shadow_split_1 = 0.05
directional_shadow_split_2 = 0.1
directional_shadow_split_3 = 0.25
directional_shadow_max_distance = 30.0

[node name="World" parent="." index="2" unique_id=42292334 instance=ExtResource("2_m5inh")]

[node name="XRT2CharacterBody3D" parent="." index="3" unique_id=1387237929 instance=ExtResource("3_3ltgk")]

[node name="Head" type="MeshInstance3D" parent="XRT2CharacterBody3D/XROrigin3D/XRCamera3D" parent_id_path=PackedInt32Array(1387237929, 1350035131) index="0" unique_id=645685516]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.02, 0.1)
layers = 4
material_override = SubResource("ShaderMaterial_3ltgk")
mesh = SubResource("SphereMesh_4i4c4")

[node name="HMD" type="MeshInstance3D" parent="XRT2CharacterBody3D/XROrigin3D/XRCamera3D/Head" index="0" unique_id=1680958940]
transform = Transform3D(-4.371139e-08, -1, 0, 1, -4.371139e-08, 0, 0, 0, 1, 0, 0.02, -0.06)
layers = 4
material_override = SubResource("StandardMaterial3D_4i4c4")
mesh = SubResource("CapsuleMesh_wfvj4")

[node name="HeadShadowCaster" type="MeshInstance3D" parent="XRT2CharacterBody3D/XROrigin3D/XRCamera3D/Head" index="1" unique_id=1647640304]
layers = 2
cast_shadow = 3
mesh = SubResource("SphereMesh_4i4c4")

[node name="XRT2DirectMovement" type="Node3D" parent="XRT2CharacterBody3D/XROrigin3D/LeftCollisionHand" parent_id_path=PackedInt32Array(1387237929, 360497191) index="0" unique_id=1416942326]
script = ExtResource("3_7f0s7")
movement_action = "move"
forward_movement_speed = 0.0
movement_acceleration = 0.0

[node name="XRT2Pickup" type="Node3D" parent="XRT2CharacterBody3D/XROrigin3D/LeftCollisionHand" parent_id_path=PackedInt32Array(1387237929, 360497191) index="1" unique_id=1189634809]
transform = Transform3D(0.99500257, -0.0035018958, 0.09978712, -0.003500683, 0.99754673, 0.069914035, -0.09978719, -0.069914, 0.99254906, -0.02500046, 0.003554154, 0.040035933)
script = ExtResource("4_l0n08")
detection_radius = 0.1
detection_offset = Vector3(0.03, 0, -0.08)

[node name="IndexTipAttachment" type="Node3D" parent="XRT2CharacterBody3D/XROrigin3D/LeftCollisionHand" parent_id_path=PackedInt32Array(1387237929, 360497191) index="2" unique_id=1677449161]
transform = Transform3D(0.91954595, -0.014892519, -0.39270008, -0.03211107, 0.99309224, -0.11285275, 0.39166808, 0.11638334, 0.9127157, -0.026100121, 0.042943064, -0.13161416)
script = ExtResource("5_4i4c4")
bone_name = "LeftIndexTip"
metadata/_custom_type_script = "uid://xrt2eecske1"

[node name="XRT2DirectMovement" type="Node3D" parent="XRT2CharacterBody3D/XROrigin3D/RightCollisionHand" parent_id_path=PackedInt32Array(1387237929, 709012286) index="0" unique_id=424588044]
script = ExtResource("3_7f0s7")
movement_action = "move"
rotation_speed = 0.0
strafe_movement_speed = 2.5

[node name="XRT2Pickup" type="Node3D" parent="XRT2CharacterBody3D/XROrigin3D/RightCollisionHand" parent_id_path=PackedInt32Array(1387237929, 709012286) index="1" unique_id=1254830859]
transform = Transform3D(0.99500257, 0.0035019002, -0.09978717, 0.003500686, 0.99754673, 0.06991408, 0.099787235, -0.06991404, 0.99254906, 0.02500046, 0.003554154, 0.040035933)
script = ExtResource("4_l0n08")
detection_radius = 0.1
detection_offset = Vector3(-0.03, 0, -0.08)

[node name="XRT2Log" parent="XRT2CharacterBody3D" index="3" unique_id=2103358672 instance=ExtResource("11_4i4c4")]
transform = Transform3D(0.9854406, 0, 0.17002034, 0, 1, 0, -0.17002034, 0, 0.9854406, -0.19793722, 1.5116211, -1.2153747)
display_size = Vector2(0.5, 0.5)
dpi = 30.0
layers = 2

[editable path="XRT2CharacterBody3D"]
